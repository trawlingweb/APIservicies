# API Facebook - GET Method /posts

Allows retrieving captured results from each configured Facebook Worker.
Temporal delimiters can be used to limit the returned content.

# GET Parameters

The API call is constructed based on the following basic structure:

```
https://facebook.trawlingweb.com/posts/{WORKERID}?token={APIKEY}
```

## PATH Parameters

| Element  | Description                                   |
| :-------- | :-------------------------------------------- |
| protocol | Can be either **http** or **https**       |
| domain   | Address of the API Facebook.trawlingweb.com   |
| method    | posts                                         |
| workerid  | Identifier that allows access to a specific worker and retrieve results generated by the keywords configured within it. It functions as a library or list of keywords, enabling retrieval of relevant results based on those keywords. |

## QUERY Parameters

| Parameter | Description                                                                  | Default                                                 | Example            |
| :-------- | :--------------------------------------------------------------------------- | :------------------------------------------------------ | :----------------- |
| token     | APIKEY to validate and access the TrawlingWeb system. Each user has their own individual and non-transferable APIKEY, linked to their services and features.           | Mandatory value                                       | ?token={APIKEY}    |
| ts        | Initial temporal delimiter. Unix Time format in milliseconds                   | Limits to 1 month in the past from the request           | &ts=1518472804000  |
| tsi       | Final temporal delimiter. Unix Time format in milliseconds                     | Limits to the request date                               | &tsi=1524818189854 |

# Output Response - RESPONSE

Upon making a request to the Facebook API, it will return a structured response as follows:

## Post Data

| Field                      | Description                                                                                                           | Searchable | Orderable |  Type   |           Format           |
| -------------------------- | --------------------------------------------------------------------------------------------------------------------- | :------: | :-------: | :-----: | :-------------------------: |
| id                         | Identification code assigned by Trawlingweb to each tracked post                                                      |    No    |    No     | String  |                             |
| post_id                    | Original Post ID                                                                                                      |    No    |    No     | String  |                             |
| hash_text                  | Hash generated based on the post text                                                                                 |    No    |    No     | String  |                             |
| user_name                  | Name of the user who made the post                                                                                     |    No    |    No     | String  |                             |
| user_screen_name           | Displayed user name                                                                                                    |    No    |    No     | String  |                             |
| user_url                   | URL to the user profile                                                                                                |    No    |    No     | String  |                             |
| user_icon                  | URL pointing to the user's profile image                                                                               |    No    |    No     | String  |                             |
| published                  | Date and time when the post was published                                                                              |    No    |    No     |  Date   |        ISO 8601-UTC         |
| url                        | URL to the post on Facebook                                                                                            |    No    |    No     | String  |                             |
| text                       | Text content of the post                                                                                               |    No    |    No     | String  |                             |
| likes_num                  | Number of likes the post received                                                                                      |    No    |    No     | Integer |                             |
| comments_num               | Number of comments on the post                                                                                         |    No    |    No     | Integer |                             |
| type                       | Type of the post (e.g., story, photo)                                                                                  |    No    |    No     | String  |                             |
| language                   | Detected language of the post, identified by a BCP 47 language tag                                                     |    No    |    No     | String  |                             |
| language_detection_precision | Precision of the language detection as a percentage                                                                  |    No    |    No     | Integer |                             |
| screen                     | Screen ID, related to the API's capture process                                                                        |    No    |    No     | Integer |                             |
| last_article               | Date of the last article processed                                                                                     |    No    |    No     |  Date   |        ISO 8601-UTC         |
| oldest_article             | Date of the oldest article processed                                                                                   |    No    |    No     |  Date   |        ISO 8601-UTC         |
| hash                       | Hash generated based on the post metadata                                                                              |    No    |    No     | String  |                             |
| crawled                    | Date and time when the post was captured                                                                               |    No    |    Yes    | Integer | UNIX Timestamp in milliseconds |
| updated                    | Date and time when the post was last updated                                                                           |    No    |    Yes    | Integer | UNIX Timestamp in milliseconds |
| time_distance              | Time elapsed between the publication date and the capture date, measured in hours                                      |    No    |    No     | Decimal |                             |

## Example response in JSON format:
```json
{
  "data": [
    {
      "id": "...",
      "post_id": "...",
      "hash_text": "...",
      "user_name": "...",
      "user_screen_name": "...",
      "user_url": "...",
      "user_icon": "...",
      "published": "2024-08-03T23:01:25.601Z",
      "url": "...",
      "text": "...",
      "likes_num": 35,
      "comments_num": 12,
      "type": "...",
      "language": "...",
      "language_detection_precision": 99,
      "screen": 0,
      "last_article": "2024-08-03T23:01:25.601Z",
      "oldest_article": "2024-08-03T23:01:25.601Z",
      "hash": "...",
      "crawled": 1722726103860,
      "updated": 1722726103860,
      "time_distance": 0.01
    }
  ],
  "totalResults": "...",
  "restResults": "...",
  "next": "..."
}
```

## Output exemple

```
requestLeft	9999999
totalResults	295404987
next	"http://facebook.trawlingweb.com/posts/1234567891234567891234567891234567.123456789?token=1234567891234567891234567891234567891234&ts=1555327617000&tsi=1554076800000"
```

# Contact

If you have any questions, need assistance, want to hire or expand your services, please contact us.

**Technical Support (SAT):**
* [SAT Email](mailto:support@trawlingweb.com)
* [Official Documentation](https://docs.trawlingweb.com)

**Administrative Support (SAC):**
* [SAC Email](mailto:gestion@trawlingweb.com)

**Sales Support (Sales):**
* [Sales Email](mailto:sales@trawlingweb.com)
